using UnityEngine;
using System.Collections;

public class ShapeTracker : MonoBehaviour {

	
	private int[] cargoBay;
	private int cargoBaySize = 5;
	
	

	public Timer timer;
	public Button button;

	// Use this for initialization
	void Start () {
		//button.gameObject.SetActive (false);
		
		//Set starting required counts.
	
	}
	


	//When shape hits player.
	void OnTriggerEnter2D (Collider2D obj)  {
		
		string name = obj.gameObject.tag;
		
		//square
		if (name == "Shape01") {			
			CargoBay(1);
		}
		//circle
		if (name == "Shape02") {			
			CargoBay(2);
		}
		//triangle
		if (name == "Shape03") {			
			CargoBay(3);
		}
		//diamond
		if (name == "Shape04") {			
			CargoBay(4);
		}
		//star
		if (name == "Shape05") {			
			CargoBay(5);
		}
		//bonus shape adds a little time
		//if (name == "Shape07") {			
		//		CargoBay(7);	
		//}

		ActiveButton(cargoBay.length);
		
		
		
	
	}

	void CargoBay(int shapeNum){
	
	//First in First out loop to track the shapes in cargoBay.
		for ( int = 0; i < cargoBaySize; i++)
		{
			if (cargoBay[i] == null){
				cargoBay[i] = shapeNum;
			}
			else //if (cargoBay.Length == cargoBaySize)
			{
			
				foreach (int n in cargoBay)
				{
					if (n <  (cargoBaySize - 1)  ){
					cargoBay[n] = cargoBay[n++];
					}
					else {
					cargoBay[cargoBaySize - 1] = shapeNum;
					}
					
				}
			}
		}
	
	}
	
	//Activate the button when cargo bay is full
	void ActiveButton(int count){
	
	//CargoBay is full
		if (count >= cargoBaySize) {
			
			button.gameObject.SetActive(true);
		
		}
	
	
	}
}
