using UnityEngine;
using System.Collections;
using System.Collections.Generic;

public class Levels : MonoBehaviour {

	private Variables vars;
	private ShapeTracker st;
	private int currentLevel;
	
	void Start(){
	
		GameObject v1 = GameObject.FindGameObjectWithTag ("Variables");
		vars = v1.GetComponent<Variables> ();
		
		GameObject v1 = GameObject.FindGameObjectWithTag ("Player");
		st = v1.GetComponent<ShapeTracker> ();
	}
	
	//The level int represents the level. 1 = 1, 2 = 2, etc.  less than 1 = test levels.
	public void SelectLevel(int level){
	
			ShapeChances(level);
			ShapeSpeed(level);
			CargoBay(level);
			Infection(level);

	}
	
	void ShapeChances(int level){
	
		if (level == -1){
		vars.gameState = "Test Level -1";
			vars.shape01Chance = 20;
			vars.shape02Chance = 20;
			vars.shape03Chance = 10;
			vars.shape04Chance = 0;
			vars.shape05Chance = 0;
			vars.shape00Chance = 0;
			vars.shape06Chance = 50;
			vars.shape07Chance = 0;
		}
		else if (level == 0){
		vars.gameState = "Test Level 0";
			vars.shape01Chance = 0;
			vars.shape02Chance = 20;
			vars.shape03Chance = 20;
			vars.shape04Chance = 0;
			vars.shape05Chance = 0;
			vars.shape00Chance = 0;
			vars.shape06Chance = 60;
			vars.shape07Chance = 0;
		}
		else if (level == 1){
		vars.gameState = "Well that was quick!";
			vars.shape01Chance = 100;
			vars.shape02Chance = 0;
			vars.shape03Chance = 0;
			vars.shape04Chance = 0;
			vars.shape05Chance = 0;
			vars.shape00Chance = 0;
			vars.shape06Chance = 0;
			vars.shape07Chance = 0;
		}
	
	}
	
	void ShapeSpeed(int level){
	
		//TEST level
		if (level == -1){
		
			vars.fallSpeedV = -4f;
			vars.spawnTimeV = .3f;
		
		}
		else if (level == 0){
		
			vars.fallSpeedV = -8f;
			vars.spawnTimeV = .3f;
		
		}
		else if (level == 1){
		
			vars.fallSpeedV = -3f;
			vars.spawnTimeV = .9f;
		
		}
		
	}
	
	void CargoBay (int level){
		if (level == -1){
			st.maxCargoBaySize = 5;
		}
		else if (level == 0){
			st.maxCargoBaySize = 5;
		}
		else if (level == 1){
			st.maxCargoBaySize = 3;
		}
	}
	
	void Infection(int level){
		if (level == -1){
			vars.winningScore = 80;
		}
		else if (level == 0){
			vars.winningScore = 80;
		}
		else if (level == 1){
			vars.winningScore = 5;
		}
	}
}
